import{u as R,j as e}from"./index.BVSIaKru.js";import{r}from"./index.BL7xzsR_.js";function y(){const[a]=R(["username"]),[o,c]=r.useState([]),[f,t]=r.useState(!0),[i,l]=r.useState(null);return r.useEffect(()=>{(async()=>{if(!a.username){l("No se encontrÃ³ un usuario en las cookies."),t(!1);return}try{const s=await fetch(`http://127.0.0.1:8000/reservas/${a.username}`);if(!s.ok)throw new Error(`Error al obtener las reservas: ${s.statusText}`);const h=await s.json();if(h.reservas){const u=[];Object.entries(h.reservas).forEach(([v,d])=>{Object.entries(d).forEach(([j,m])=>{Object.entries(m).forEach(([x,p])=>{Object.entries(p).forEach(([E,b])=>{b.forEach($=>{u.push({date:`${v}-${j.padStart(2,"0")}-${x.padStart(2,"0")}`,time:E})})})})})}),c(u)}else c([]);t(!1)}catch(s){l(s.message),t(!1)}})()},[a.username]),f?e.jsx("div",{className:"container",children:"Cargando reservas..."}):i?e.jsxs("div",{className:"container",children:["Error: ",i]}):e.jsxs("div",{className:"container",children:[e.jsxs("nav",{children:[e.jsx("a",{href:"/web-reservas-volley/",children:"Inicio"}),e.jsx("a",{href:"/web-reservas-volley/reservar",children:"Hacer una Reserva"})]}),e.jsx("h1",{children:"Mis Reservas"}),o.length>0?e.jsx("ul",{children:o.map((n,s)=>e.jsxs("li",{children:[n.date," - ",n.time]},s))}):e.jsx("p",{children:"No tienes reservas."})]})}export{y as default};
