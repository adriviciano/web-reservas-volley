import{u as b,j as s}from"./index.BVSIaKru.js";import{r}from"./index.BL7xzsR_.js";function $(){const[a]=b(["username"]),[o,c]=r.useState([]),[h,t]=r.useState(!0),[i,u]=r.useState(null);return r.useEffect(()=>{(async()=>{if(!a.username){u("No se encontrÃ³ un usuario en las cookies."),t(!1);return}try{const e=await fetch(`http://127.0.0.1:8000/reservas/${a.username}`);if(!e.ok)throw new Error(`Error al obtener las reservas: ${e.statusText}`);const l=await e.json();if(l.reservas){const f=[];Object.entries(l.reservas).forEach(([d,v])=>{Object.entries(v).forEach(([m,j])=>{Object.entries(j).forEach(([p,x])=>{Object.entries(x).forEach(([E,R])=>{R.forEach(g=>{f.push({date:`${d}-${m.padStart(2,"0")}-${p.padStart(2,"0")}`,time:E})})})})})}),c(f)}else c([]);t(!1)}catch(e){u(e.message),t(!1)}})()},[a.username]),h?s.jsx("div",{className:"container",children:"Cargando reservas..."}):i?s.jsxs("div",{className:"container",children:["Error: ",i]}):s.jsxs("div",{className:"container",children:[s.jsx("h1",{children:"Mis Reservas"}),o.length>0?s.jsx("ul",{children:o.map((n,e)=>s.jsxs("li",{children:[n.date," - ",n.time]},e))}):s.jsx("p",{children:"No tienes reservas."})]})}export{$ as default};
